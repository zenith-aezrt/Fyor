--[[
    fyorUI Library v1.0.0
    Clean, Modern, Dark Theme UI for Roblox Studio
--]]

local fyorUI = {}
fyorUI.__index = fyorUI

-- Services
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local Stats = game:GetService("Stats")

local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

-- Theme Colors
local Theme = {
	Background = Color3.fromRGB(15, 15, 15),
	Secondary = Color3.fromRGB(25, 25, 25),
	Accent = Color3.fromRGB(0, 85, 185),
	Text = Color3.fromRGB(255, 255, 255),
	TextDark = Color3.fromRGB(180, 180, 180),
	Border = Color3.fromRGB(40, 40, 40)
}

-- Utility Functions
local function Create(class, props, children)
	local obj = Instance.new(class)
	for i, v in pairs(props) do obj[i] = v end
	if children then
		for _, child in pairs(children) do child.Parent = obj end
	end
	return obj
end

local function MakeDraggable(obj, dragHandle)
	local dragging, dragInput, dragStart, startPos
	dragHandle = dragHandle or obj
	dragHandle.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = input.Position
			startPos = obj.Position
		end
	end)
	dragHandle.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement then dragInput = input end
	end)
	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			local delta = input.Position - dragStart
			obj.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		end
	end)
	UserInputService.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
	end)
end

-- Notification System
local NotificationHolder = Create("Frame", {
	Name = "fyorNotifs",
	Size = UDim2.new(0, 300, 1, 0),
	Position = UDim2.new(1, -310, 0, 0),
	BackgroundTransparency = 1,
	Parent = CoreGui:FindFirstChild("fyorUI_Container") or Create("ScreenGui", {Name = "fyorUI_Container", IgnoreGuiInset = true, Parent = CoreGui})
})

local UIListLayout = Create("UIListLayout", {
	Parent = NotificationHolder,
	VerticalAlignment = Enum.VerticalAlignment.Bottom,
	Padding = UDim.new(0, 10),
	SortOrder = Enum.SortOrder.LayoutOrder
})

function fyorUI:Notify(title, desc, duration)
	duration = duration or 5
	local notif = Create("Frame", {
		Size = UDim2.new(1, 0, 0, 0), -- Dynamic Height
		BackgroundColor3 = Theme.Secondary,
		ClipsDescendants = true,
		Parent = NotificationHolder
	}, {
		Create("UICorner", {CornerRadius = UDim.new(0, 8)}),
		Create("UIStroke", {Color = Theme.Border, Thickness = 1}),
		Create("Frame", { -- Accent Line
			Size = UDim2.new(0, 4, 1, 0),
			BackgroundColor3 = Theme.Accent,
			BorderSizePixel = 0
		}, {Create("UICorner", {CornerRadius = UDim.new(0, 8)})}),
		Create("TextLabel", {
			Name = "Title",
			Text = title,
			Size = UDim2.new(1, -20, 0, 25),
			Position = UDim2.new(0, 15, 0, 5),
			Font = Enum.Font.GothamBold,
			TextSize = 14,
			TextColor3 = Theme.Text,
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left
		}),
		Create("TextLabel", {
			Name = "Desc",
			Text = desc,
			Size = UDim2.new(1, -20, 0, 35),
			Position = UDim2.new(0, 15, 0, 25),
			Font = Enum.Font.GothamMedium,
			TextSize = 12,
			TextColor3 = Theme.TextDark,
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			TextWrapped = true
		})
	})

	TweenService:Create(notif, TweenInfo.new(0.5, Enum.EasingStyle.Quart), {Size = UDim2.new(1, 0, 0, 70)}):Play()
	
	task.delay(duration, function()
		local t = TweenService:Create(notif, TweenInfo.new(0.5, Enum.EasingStyle.Quart), {Position = UDim2.new(1.5, 0, 0, 0)})
		t:Play()
		t.Completed:Connect(function() notif:Destroy() end)
	end)
end

-- Library Methods
function fyorUI:CreateWindow(title)
	local ScreenGui = NotificationHolder.Parent
	local isVisible = true
	
	-- Main Window
	local Main = Create("Frame", {
		Name = "MainWindow",
		Size = UDim2.new(0, 650, 0, 400),
		Position = UDim2.new(0.5, -325, 0.5, -200),
		BackgroundColor3 = Theme.Background,
		BorderSizePixel = 0,
		Parent = ScreenGui
	}, {
		Create("UICorner", {CornerRadius = UDim.new(0, 10)}),
		Create("UIStroke", {Color = Theme.Border, Thickness = 1.2})
	})
	
	MakeDraggable(Main)

	-- Topbar
	local Topbar = Create("Frame", {
		Size = UDim2.new(1, 0, 0, 45),
		BackgroundTransparency = 1,
		Parent = Main
	}, {
		Create("TextLabel", {
			Text = title,
			Font = Enum.Font.GothamBold,
			TextSize = 16,
			TextColor3 = Theme.Text,
			Position = UDim2.new(0, 15, 0, 0),
			Size = UDim2.new(0, 100, 1, 0),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left
		}),
		Create("Frame", { -- Badge
			Name = "VersionBadge",
			Size = UDim2.new(0, 45, 0, 18),
			Position = UDim2.new(0, 105, 0.5, -9),
			BackgroundColor3 = Theme.Accent,
			Parent = Topbar
		}, {
			Create("UICorner", {CornerRadius = UDim.new(0, 4)}),
			Create("TextLabel", {
				Text = "V1.0",
				Font = Enum.Font.GothamBold,
				TextSize = 10,
				TextColor3 = Theme.Text,
				Size = UDim2.new(1, 0, 1, 0),
				BackgroundTransparency = 1
			})
		})
	})
	
	-- FPS/Ping Monitor
	local Monitor = Create("TextLabel", {
		Text = "FPS: 60 | 30ms",
		Font = Enum.Font.GothamMedium,
		TextSize = 12,
		TextColor3 = Theme.TextDark,
		Position = UDim2.new(1, -150, 0, 0),
		Size = UDim2.new(0, 140, 1, 0),
		BackgroundTransparency = 1,
		TextXAlignment = Enum.TextXAlignment.Right,
		Parent = Topbar
	})

	task.spawn(function()
		while task.wait(1) do
			local fps = math.floor(Stats.WorkspaceStats.RealtimeFPS)
			local ping = math.floor(LocalPlayer:GetNetworkPing() * 1000)
			Monitor.Text = "FPS: " .. fps .. " | " .. ping .. "ms"
		end
	end)

	-- Sidebar
	local Sidebar = Create("Frame", {
		Size = UDim2.new(0, 180, 1, -45),
		Position = UDim2.new(0, 0, 0, 45),
		BackgroundColor3 = Theme.Secondary,
		Parent = Main
	}, {
		Create("UICorner", {CornerRadius = UDim.new(0, 10)})
	})
	
	local TabContainer = Create("ScrollingFrame", {
		Size = UDim2.new(1, 0, 1, -120),
		Position = UDim2.new(0, 0, 0, 40),
		BackgroundTransparency = 1,
		ScrollBarThickness = 0,
		Parent = Sidebar
	}, {
		Create("UIListLayout", {Padding = UDim.new(0, 5), HorizontalAlignment = Enum.HorizontalAlignment.Center})
	})

	-- User Info (Bottom Sidebar)
	local UserInfo = Create("Frame", {
		Size = UDim2.new(1, 0, 0, 50),
		Position = UDim2.new(0, 0, 1, -60),
		BackgroundTransparency = 1,
		Parent = Sidebar
	}, {
		Create("ImageLabel", {
			Name = "Avatar",
			Size = UDim2.new(0, 35, 0, 35),
			Position = UDim2.new(0, 10, 0.5, -17.5),
			Image = Players:GetUserThumbnailAsync(LocalPlayer.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size420x420),
			BackgroundColor3 = Theme.Accent,
			Parent = UserInfo
		}, {Create("UICorner", {CornerRadius = UDim.new(1, 0)})}),
		Create("TextLabel", {
			Text = LocalPlayer.DisplayName,
			Font = Enum.Font.GothamBold,
			TextSize = 12,
			TextColor3 = Theme.Text,
			Position = UDim2.new(0, 55, 0.2, 0),
			Size = UDim2.new(0, 100, 0, 15),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			Parent = UserInfo
		}),
		Create("TextLabel", {
			Text = "fyorUI User",
			Font = Enum.Font.GothamMedium,
			TextSize = 10,
			TextColor3 = Theme.TextDark,
			Position = UDim2.new(0, 55, 0.5, 0),
			Size = UDim2.new(0, 100, 0, 15),
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Left,
			Parent = UserInfo
		})
	})

	-- Search Bar
	local SearchFrame = Create("Frame", {
		Size = UDim2.new(0, 160, 0, 30),
		Position = UDim2.new(0, 10, 0, 5),
		BackgroundColor3 = Theme.Background,
		Parent = Sidebar
	}, {
		Create("UICorner", {CornerRadius = UDim.new(0, 6)}),
		Create("TextBox", {
			PlaceholderText = "Search...",
			Text = "",
			Size = UDim2.new(1, -10, 1, 0),
			Position = UDim2.new(0, 5, 0, 0),
			BackgroundTransparency = 1,
			TextColor3 = Theme.Text,
			PlaceholderColor3 = Theme.TextDark,
			Font = Enum.Font.GothamMedium,
			TextSize = 12,
			TextXAlignment = Enum.TextXAlignment.Left
		})
	})

	-- Content Area
	local Content = Create("Frame", {
		Size = UDim2.new(1, -190, 1, -55),
		Position = UDim2.new(0, 185, 0, 50),
		BackgroundTransparency = 1,
		Parent = Main
	})

	-- Toggle Button (Small)
	local ToggleBtn = Create("Frame", {
		Size = UDim2.new(0, 40, 0, 40),
		Position = UDim2.new(0, 20, 0, 20),
		BackgroundColor3 = Theme.Accent,
		Parent = ScreenGui
	}, {
		Create("UICorner", {CornerRadius = UDim.new(0, 8)}),
		Create("ImageLabel", {
			Size = UDim2.new(0, 25, 0, 25),
			Position = UDim2.new(0.5, -12.5, 0.5, -12.5),
			Image = "rbxassetid://6031068426",
			BackgroundTransparency = 1
		})
	})
	MakeDraggable(ToggleBtn)

	ToggleBtn.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			isVisible = not isVisible
			local targetScale = isVisible and 1 or 0
			TweenService:Create(Main, TweenInfo.new(0.5, Enum.EasingStyle.Back), {Size = isVisible and UDim2.new(0, 650, 0, 400) or UDim2.new(0, 0, 0, 0)}):Play()
			Main.Visible = isVisible
		end
	end)

	-- Tab Logic
	local tabs = {}
	local firstTab = true

	function tabs:CreateTab(name)
		local TabBtn = Create("TextButton", {
			Text = name,
			Size = UDim2.new(0, 160, 0, 35),
			BackgroundColor3 = Theme.Background,
			BackgroundTransparency = 1,
			Font = Enum.Font.GothamMedium,
			TextSize = 13,
			TextColor3 = Theme.TextDark,
			AutoButtonColor = false,
			Parent = TabContainer
		}, {
			Create("UICorner", {CornerRadius = UDim.new(0, 6)})
		})

		local Page = Create("ScrollingFrame", {
			Size = UDim2.new(1, 0, 1, 0),
			BackgroundTransparency = 1,
			ScrollBarThickness = 2,
			ScrollBarImageColor3 = Theme.Accent,
			Visible = false,
			Parent = Content
		}, {
			Create("UIListLayout", {Padding = UDim.new(0, 8), HorizontalAlignment = Enum.HorizontalAlignment.Center})
		})

		TabBtn.MouseButton1Click:Connect(function()
			for _, v in pairs(Content:GetChildren()) do v.Visible = false end
			for _, v in pairs(TabContainer:GetChildren()) do 
				if v:IsA("TextButton") then 
					TweenService:Create(v, TweenInfo.new(0.3), {TextColor3 = Theme.TextDark, BackgroundTransparency = 1}):Play()
				end
			end
			
			Page.Visible = true
			Page.Position = UDim2.new(0, 0, 0, 20)
			TweenService:Create(Page, TweenInfo.new(0.4, Enum.EasingStyle.Quart), {Position = UDim2.new(0, 0, 0, 0)}):Play()
			TweenService:Create(TabBtn, TweenInfo.new(0.3), {TextColor3 = Theme.Text, BackgroundTransparency = 0}):Play()
		end)

		if firstTab then
			firstTab = false
			Page.Visible = true
			TweenService:Create(TabBtn, TweenInfo.new(0.3), {TextColor3 = Theme.Text, BackgroundTransparency = 0}):Play()
		end

		local elements = {}

		function elements:CreateButton(text, callback)
			local Btn = Create("TextButton", {
				Text = text,
				Size = UDim2.new(0, 440, 0, 40),
				BackgroundColor3 = Theme.Secondary,
				Font = Enum.Font.GothamMedium,
				TextSize = 14,
				TextColor3 = Theme.Text,
				AutoButtonColor = false,
				Parent = Page
			}, {
				Create("UICorner", {CornerRadius = UDim.new(0, 8)}),
				Create("UIStroke", {Color = Theme.Border, Thickness = 1})
			})
			Btn.MouseButton1Click:Connect(function()
				TweenService:Create(Btn, TweenInfo.new(0.1), {BackgroundColor3 = Theme.Accent}):Play()
				task.wait(0.1)
				TweenService:Create(Btn, TweenInfo.new(0.1), {BackgroundColor3 = Theme.Secondary}):Play()
				callback()
			end)
		end

		function elements:CreateToggle(text, default, callback)
			local state = default
			local Toggle = Create("Frame", {
				Size = UDim2.new(0, 440, 0, 45),
				BackgroundColor3 = Theme.Secondary,
				Parent = Page
			}, {
				Create("UICorner", {CornerRadius = UDim.new(0, 8)}),
				Create("TextLabel", {
					Text = text,
					Font = Enum.Font.GothamMedium,
					TextSize = 14,
					TextColor3 = Theme.Text,
					Position = UDim2.new(0, 15, 0, 0),
					Size = UDim2.new(0, 200, 1, 0),
					BackgroundTransparency = 1,
					TextXAlignment = Enum.TextXAlignment.Left
				})
			})

			local Switch = Create("TextButton", {
				Size = UDim2.new(0, 45, 0, 22),
				Position = UDim2.new(1, -60, 0.5, -11),
				BackgroundColor3 = state and Theme.Accent or Color3.fromRGB(50, 50, 50),
				Text = "",
				AutoButtonColor = false,
				Parent = Toggle
			}, {
				Create("UICorner", {CornerRadius = UDim.new(1, 0)})
			})

			local Knob = Create("Frame", {
				Size = UDim2.new(0, 16, 0, 16),
				Position = state and UDim2.new(1, -20, 0.5, -8) or UDim2.new(0, 4, 0.5, -8),
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
				Parent = Switch
			}, {Create("UICorner", {CornerRadius = UDim.new(1, 0)})})

			Switch.MouseButton1Click:Connect(function()
				state = not state
				TweenService:Create(Switch, TweenInfo.new(0.3), {BackgroundColor3 = state and Theme.Accent or Color3.fromRGB(50, 50, 50)}):Play()
				TweenService:Create(Knob, TweenInfo.new(0.3, Enum.EasingStyle.Back), {Position = state and UDim2.new(1, -20, 0.5, -8) or UDim2.new(0, 4, 0.5, -8)}):Play()
				callback(state)
			end)
		end

		function elements:CreateSlider(text, min, max, default, callback)
			local SliderFrame = Create("Frame", {
				Size = UDim2.new(0, 440, 0, 60),
				BackgroundColor3 = Theme.Secondary,
				Parent = Page
			}, {
				Create("UICorner", {CornerRadius = UDim.new(0, 8)}),
				Create("TextLabel", {
					Text = text,
					Font = Enum.Font.GothamMedium,
					TextSize = 14,
					TextColor3 = Theme.Text,
					Position = UDim2.new(0, 15, 0, 10),
					Size = UDim2.new(0, 200, 0, 20),
					BackgroundTransparency = 1,
					TextXAlignment = Enum.TextXAlignment.Left
				})
			})

			local ValueLabel = Create("TextLabel", {
				Text = tostring(default),
				Font = Enum.Font.GothamBold,
				TextSize = 14,
				TextColor3 = Theme.Accent,
				Position = UDim2.new(1, -65, 0, 10),
				Size = UDim2.new(0, 50, 0, 20),
				BackgroundTransparency = 1,
				TextXAlignment = Enum.TextXAlignment.Right,
				Parent = SliderFrame
			})

			local SliderBar = Create("Frame", {
				Size = UDim2.new(1, -30, 0, 6),
				Position = UDim2.new(0, 15, 0, 40),
				BackgroundColor3 = Color3.fromRGB(50, 50, 50),
				Parent = SliderFrame
			}, {Create("UICorner", {CornerRadius = UDim.new(1, 0)})})

			local SliderFill = Create("Frame", {
				Size = UDim2.new((default - min) / (max - min), 0, 1, 0),
				BackgroundColor3 = Theme.Accent,
				Parent = SliderBar
			}, {Create("UICorner", {CornerRadius = UDim.new(1, 0)})})

			local dragging = false
			local function UpdateSlider()
				local percent = math.clamp((Mouse.X - SliderBar.AbsolutePosition.X) / SliderBar.AbsoluteSize.X, 0, 1)
				local val = math.floor(min + (max - min) * percent)
				ValueLabel.Text = tostring(val)
				TweenService:Create(SliderFill, TweenInfo.new(0.1), {Size = UDim2.new(percent, 0, 1, 0)}):Play()
				callback(val)
			end

			SliderBar.InputBegan:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 then
					dragging = true
					UpdateSlider()
				end
			end)

			UserInputService.InputEnded:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
			end)

			UserInputService.InputChanged:Connect(function(input)
				if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then UpdateSlider() end
			end)
		end

		function elements:CreateDropdown(text, options, callback)
			local expanded = false
			local Dropdown = Create("Frame", {
				Size = UDim2.new(0, 440, 0, 45),
				BackgroundColor3 = Theme.Secondary,
				ClipsDescendants = true,
				Parent = Page
			}, {
				Create("UICorner", {CornerRadius = UDim.new(0, 8)}),
				Create("TextLabel", {
					Text = text,
					Font = Enum.Font.GothamMedium,
					TextSize = 14,
					TextColor3 = Theme.Text,
					Position = UDim2.new(0, 15, 0, 0),
					Size = UDim2.new(0, 200, 0, 45),
					BackgroundTransparency = 1,
					TextXAlignment = Enum.TextXAlignment.Left
				}),
				Create("ImageLabel", { -- Arrow
					Name = "Arrow",
					Size = UDim2.new(0, 20, 0, 20),
					Position = UDim2.new(1, -35, 0, 12),
					Image = "rbxassetid://6034818372",
					BackgroundTransparency = 1
				})
			})

			local OptionHolder = Create("Frame", {
				Size = UDim2.new(1, 0, 0, #options * 30),
				Position = UDim2.new(0, 0, 0, 45),
				BackgroundTransparency = 1,
				Parent = Dropdown
			}, {
				Create("UIListLayout", {Padding = UDim.new(0, 2)})
			})

			for _, opt in pairs(options) do
				local OptBtn = Create("TextButton", {
					Text = opt,
					Size = UDim2.new(1, 0, 0, 30),
					BackgroundTransparency = 1,
					Font = Enum.Font.GothamMedium,
					TextSize = 12,
					TextColor3 = Theme.TextDark,
					Parent = OptionHolder
				})
				OptBtn.MouseButton1Click:Connect(function()
					callback(opt)
					expanded = false
					TweenService:Create(Dropdown, TweenInfo.new(0.3), {Size = UDim2.new(0, 440, 0, 45)}):Play()
				end)
			end

			Dropdown.InputBegan:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 then
					expanded = not expanded
					TweenService:Create(Dropdown, TweenInfo.new(0.4, Enum.EasingStyle.Quart), {Size = expanded and UDim2.new(0, 440, 0, 45 + (#options * 32)) or UDim2.new(0, 440, 0, 45)}):Play()
				end
			end)
		end

		return elements
	end

	function Main:Unload()
		TweenService:Create(Main, TweenInfo.new(0.4, Enum.EasingStyle.Quart), {Position = UDim2.new(0.5, -325, 1, 50)}):Play()
		task.wait(0.4)
		ScreenGui:Destroy()
	end

	return tabs
end

--==================================================================================
-- CONTOH PENGGUNAAN fyorUI
--==================================================================================

local Window = fyorUI:CreateWindow("fyorUI")
fyorUI:Notify("Welcome!", "Library loaded successfully. Enjoy the clean UI.", 5)

-- Tab Home
local HomeTab = Window:CreateTab("Home")
HomeTab:CreateButton("Welcome to fyorUI", function()
	fyorUI:Notify("Button Clicked", "You clicked the welcome button!", 3)
end)

HomeTab:CreateToggle("Auto Farm", false, function(val)
	print("Auto Farm is now: " .. tostring(val))
end)

-- Tab Settings
local SettingsTab = Window:CreateTab("Settings")
SettingsTab:CreateSlider("Walkspeed", 16, 100, 16, function(val)
	LocalPlayer.Character.Humanoid.WalkSpeed = val
end)

SettingsTab:CreateDropdown("Teleport to Player", {"Player1", "Player2", "Player3"}, function(selected)
	fyorUI:Notify("Teleport", "Teleporting to " .. selected, 3)
end)

SettingsTab:CreateButton("Unload UI", function()
	Window:Unload()
end)

SettingsTab:CreateButton("Copy JobID", function()
	setclipboard(game.JobId)
	fyorUI:Notify("System", "JobId copied to clipboard!", 2)
end)

return fyorUI


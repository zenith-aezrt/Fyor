--[[
    fyorUI - Modern Roblox UI Library
    Theme: Deep Dark & Elegant Blue
    Developed for: Cleanliness, Smoothness, and Performance
]]

local fyorUI = {}

-- Services
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")

local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

-- Constants & Theme
local THEME = {
    Background = Color3.fromRGB(15, 15, 15),
    Secondary = Color3.fromRGB(25, 25, 25),
    Accent = Color3.fromRGB(0, 85, 185),
    Text = Color3.fromRGB(255, 255, 255),
    TextDark = Color3.fromRGB(180, 180, 180),
    Border = Color3.fromRGB(40, 40, 40),
    CornerRadius = UDim.new(0, 10),
    FontMain = Enum.Font.GothamMedium,
    FontBold = Enum.Font.GothamBold,
    TweenInfo = TweenInfo.new(0.4, Enum.EasingStyle.Quart, Enum.EasingDirection.Out)
}

-- Utility Functions
local function MakeDraggable(gui, dragHandle)
    local dragging, dragInput, dragStart, startPos
    dragHandle = dragHandle or gui

    dragHandle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = gui.Position
        end
    end)

    dragHandle.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            gui.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)

    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
end

-- Notification System
local NotificationHolder = Instance.new("ScreenGui")
NotificationHolder.Name = "fyorNotifications"
NotificationHolder.Parent = CoreGui

local NotificationContainer = Instance.new("Frame")
NotificationContainer.Size = UDim2.new(0, 300, 1, 0)
NotificationContainer.Position = UDim2.new(1, -320, 0, 20)
NotificationContainer.BackgroundTransparency = 1
NotificationContainer.Parent = NotificationHolder

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Parent = NotificationContainer
UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Bottom
UIListLayout.Padding = UDim.new(0, 10)

function fyorUI:Notify(title, desc, duration)
    duration = duration or 5
    
    local Notification = Instance.new("Frame")
    Notification.Size = UDim2.new(1, 0, 0, 0)
    Notification.BackgroundColor3 = THEME.Secondary
    Notification.ClipsDescendants = true
    Notification.Parent = NotificationContainer
    
    local UICorner = Instance.new("UICorner", Notification)
    UICorner.CornerRadius = THEME.CornerRadius
    
    local UIStroke = Instance.new("UIStroke", Notification)
    UIStroke.Color = THEME.Accent
    UIStroke.Transparency = 0.5

    local TitleLabel = Instance.new("TextLabel", Notification)
    TitleLabel.Text = title
    TitleLabel.Font = THEME.FontBold
    TitleLabel.TextColor3 = THEME.Accent
    TitleLabel.TextSize = 14
    TitleLabel.Position = UDim2.new(0, 15, 0, 10)
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.Size = UDim2.new(1, -30, 0, 20)
    TitleLabel.TextXAlignment = Enum.TextXAlignment.Left

    local DescLabel = Instance.new("TextLabel", Notification)
    DescLabel.Text = desc
    DescLabel.Font = THEME.FontMain
    DescLabel.TextColor3 = THEME.Text
    DescLabel.TextSize = 12
    DescLabel.Position = UDim2.new(0, 15, 0, 30)
    DescLabel.BackgroundTransparency = 1
    DescLabel.Size = UDim2.new(1, -30, 0, 30)
    DescLabel.TextWrapped = true
    DescLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    -- Animation In
    TweenService:Create(Notification, THEME.TweenInfo, {Size = UDim2.new(1, 0, 0, 70)}):Play()
    
    task.delay(duration, function()
        local tween = TweenService:Create(Notification, THEME.TweenInfo, {Size = UDim2.new(1, 0, 0, 0), Transparency = 1})
        tween:Play()
        tween.Completed:Connect(function() Notification:Destroy() end)
    end)
end

-- Main Window Creation
function fyorUI:CreateWindow(libName)
    local MainGui = Instance.new("ScreenGui")
    MainGui.Name = "fyorUI_Main"
    MainGui.Parent = CoreGui
    MainGui.ResetOnSpawn = false

    -- Toggle Button
    local ToggleBtn = Instance.new("Frame")
    ToggleBtn.Name = "ToggleBtn"
    ToggleBtn.Size = UDim2.new(0, 45, 0, 45)
    ToggleBtn.Position = UDim2.new(0, 20, 0, 20)
    ToggleBtn.BackgroundColor3 = THEME.Secondary
    ToggleBtn.Parent = MainGui
    Instance.new("UICorner", ToggleBtn).CornerRadius = UDim.new(1, 0)
    MakeDraggable(ToggleBtn)

    local ToggleIcon = Instance.new("ImageLabel", ToggleBtn)
    ToggleIcon.Size = UDim2.new(0, 25, 0, 25)
    ToggleIcon.Position = UDim2.new(0.5, -12, 0.5, -12)
    ToggleIcon.BackgroundTransparency = 1
    ToggleIcon.Image = "rbxassetid://10734910010" -- Home Icon
    ToggleIcon.ImageColor3 = THEME.Accent

    -- Window Frame
    local Window = Instance.new("Frame")
    Window.Name = "MainWindow"
    Window.Size = UDim2.new(0, 600, 0, 400)
    Window.Position = UDim2.new(0.5, -300, 0.5, -200)
    Window.BackgroundColor3 = THEME.Background
    Window.ClipsDescendants = true
    Window.Parent = MainGui
    Instance.new("UICorner", Window).CornerRadius = THEME.CornerRadius
    MakeDraggable(Window)

    local isVisible = true
    ToggleBtn.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            isVisible = not isVisible
            local targetScale = isVisible and 1 or 0
            TweenService:Create(Window, TweenInfo.new(0.5, Enum.EasingStyle.Back), {Size = isVisible and UDim2.new(0, 600, 0, 400) or UDim2.new(0,0,0,0)}):Play()
        end
    end)

    -- Topbar
    local Topbar = Instance.new("Frame", Window)
    Topbar.Size = UDim2.new(1, 0, 0, 40)
    Topbar.BackgroundColor3 = THEME.Secondary
    Topbar.BorderSizePixel = 0

    local Title = Instance.new("TextLabel", Topbar)
    Title.Text = libName .. " | "
    Title.Font = THEME.FontBold
    Title.TextSize = 16
    Title.TextColor3 = THEME.Text
    Title.Position = UDim2.new(0, 15, 0, 0)
    Title.Size = UDim2.new(0, 100, 1, 0)
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.BackgroundTransparency = 1

    local Stats = Instance.new("TextLabel", Topbar)
    Stats.Size = UDim2.new(0, 200, 1, 0)
    Stats.Position = UDim2.new(1, -210, 0, 0)
    Stats.BackgroundTransparency = 1
    Stats.Font = THEME.FontMain
    Stats.TextSize = 12
    Stats.TextColor3 = THEME.TextDark
    Stats.TextXAlignment = Enum.TextXAlignment.Right

    -- Real-time Stats
    RunService.RenderStepped:Connect(function()
        local fps = math.floor(1 / RunService.RenderStepped:Wait())
        local ping = tonumber(LocalPlayer:GetNetworkPing() * 1000) or 0
        local time = os.date("%H:%M:%S")
        Stats.Text = string.format("FPS: %d | Ping: %dms | %s", fps, ping, time)
    end)

    -- Sidebar
    local Sidebar = Instance.new("Frame", Window)
    Sidebar.Size = UDim2.new(0, 160, 1, -40)
    Sidebar.Position = UDim2.new(0, 0, 0, 40)
    Sidebar.BackgroundColor3 = THEME.Secondary
    Sidebar.BorderSizePixel = 0

    local TabContainer = Instance.new("ScrollingFrame", Sidebar)
    TabContainer.Size = UDim2.new(1, 0, 1, -60)
    TabContainer.Position = UDim2.new(0, 0, 0, 10)
    TabContainer.BackgroundTransparency = 1
    TabContainer.ScrollBarThickness = 0
    
    local TabList = Instance.new("UIListLayout", TabContainer)
    TabList.Padding = UDim.new(0, 5)
    TabList.HorizontalAlignment = Enum.HorizontalAlignment.Center

    -- User Info Section
    local UserInfo = Instance.new("Frame", Sidebar)
    UserInfo.Size = UDim2.new(1, 0, 0, 50)
    UserInfo.Position = UDim2.new(0, 0, 1, -55)
    UserInfo.BackgroundTransparency = 1

    local Avatar = Instance.new("ImageLabel", UserInfo)
    Avatar.Size = UDim2.new(0, 35, 0, 35)
    Avatar.Position = UDim2.new(0, 10, 0.5, -17)
    Avatar.Image = Players:GetUserThumbnailAsync(LocalPlayer.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size48x48)
    Instance.new("UICorner", Avatar).CornerRadius = UDim.new(1, 0)

    local UserName = Instance.new("TextLabel", UserInfo)
    UserName.Text = LocalPlayer.DisplayName
    UserName.Size = UDim2.new(1, -55, 0, 35)
    UserName.Position = UDim2.new(0, 50, 0.5, -17)
    UserName.Font = THEME.FontMain
    UserName.TextColor3 = THEME.Text
    UserName.TextSize = 12
    UserName.TextXAlignment = Enum.TextXAlignment.Left
    UserName.BackgroundTransparency = 1

    -- Main Content Area
    local ContentHolder = Instance.new("Frame", Window)
    ContentHolder.Size = UDim2.new(1, -170, 1, -50)
    ContentHolder.Position = UDim2.new(0, 165, 0, 45)
    ContentHolder.BackgroundTransparency = 1

    local WindowObj = {
        CurrentTab = nil,
        Tabs = {}
    }

    function WindowObj:CreateTab(name)
        local TabBtn = Instance.new("TextButton", TabContainer)
        TabBtn.Size = UDim2.new(0, 140, 0, 35)
        TabBtn.BackgroundColor3 = THEME.Background
        TabBtn.Text = name
        TabBtn.Font = THEME.FontMain
        TabBtn.TextColor3 = THEME.TextDark
        TabBtn.TextSize = 14
        TabBtn.AutoButtonColor = false
        Instance.new("UICorner", TabBtn).CornerRadius = UDim.new(0, 6)

        local TabContent = Instance.new("ScrollingFrame", ContentHolder)
        TabContent.Size = UDim2.new(1, 0, 1, 0)
        TabContent.BackgroundTransparency = 1
        TabContent.Visible = false
        TabContent.ScrollBarThickness = 2
        TabContent.ScrollBarImageColor3 = THEME.Accent
        
        local ContentList = Instance.new("UIListLayout", TabContent)
        ContentList.Padding = UDim.new(0, 8)
        ContentList.HorizontalAlignment = Enum.HorizontalAlignment.Center

        TabBtn.MouseButton1Click:Connect(function()
            for _, t in pairs(WindowObj.Tabs) do
                t.Content.Visible = false
                TweenService:Create(t.Btn, THEME.TweenInfo, {BackgroundColor3 = THEME.Background, TextColor3 = THEME.TextDark}):Play()
            end
            
            TabContent.Visible = true
            TabContent.Position = UDim2.new(0, 0, 0, 20)
            TabContent.GroupTransparency = 1
            TweenService:Create(TabContent, THEME.TweenInfo, {Position = UDim2.new(0, 0, 0, 0), GroupTransparency = 0}):Play()
            TweenService:Create(TabBtn, THEME.TweenInfo, {BackgroundColor3 = THEME.Accent, TextColor3 = THEME.Text}):Play()
        end)

        local TabObj = {Btn = TabBtn, Content = TabContent}
        table.insert(WindowObj.Tabs, TabObj)
        
        if #WindowObj.Tabs == 1 then
            TabContent.Visible = true
            TabBtn.BackgroundColor3 = THEME.Accent
            TabBtn.TextColor3 = THEME.Text
        end

        -- Tab Methods
        function TabObj:CreateButton(text, callback)
            local Btn = Instance.new("TextButton", TabContent)
            Btn.Size = UDim2.new(0, 410, 0, 40)
            Btn.BackgroundColor3 = THEME.Secondary
            Btn.Text = "  " .. text
            Btn.Font = THEME.FontMain
            Btn.TextColor3 = THEME.Text
            Btn.TextSize = 14
            Btn.TextXAlignment = Enum.TextXAlignment.Left
            Btn.AutoButtonColor = false
            Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, 8)
            
            Btn.MouseEnter:Connect(function() TweenService:Create(Btn, THEME.TweenInfo, {BackgroundColor3 = THEME.Accent}):Play() end)
            Btn.MouseLeave:Connect(function() TweenService:Create(Btn, THEME.TweenInfo, {BackgroundColor3 = THEME.Secondary}):Play() end)
            Btn.MouseButton1Click:Connect(callback)
        end

        function TabObj:CreateToggle(text, default, callback)
            local state = default or false
            local ToggleFrame = Instance.new("Frame", TabContent)
            ToggleFrame.Size = UDim2.new(0, 410, 0, 45)
            ToggleFrame.BackgroundColor3 = THEME.Secondary
            Instance.new("UICorner", ToggleFrame).CornerRadius = UDim.new(0, 8)

            local Label = Instance.new("TextLabel", ToggleFrame)
            Label.Text = "  " .. text
            Label.Size = UDim2.new(1, 0, 1, 0)
            Label.BackgroundTransparency = 1
            Label.Font = THEME.FontMain
            Label.TextColor3 = THEME.Text
            Label.TextSize = 14
            Label.TextXAlignment = Enum.TextXAlignment.Left

            local Switch = Instance.new("Frame", ToggleFrame)
            Switch.Size = UDim2.new(0, 40, 0, 20)
            Switch.Position = UDim2.new(1, -50, 0.5, -10)
            Switch.BackgroundColor3 = state and THEME.Accent or THEME.Background
            Instance.new("UICorner", Switch).CornerRadius = UDim.new(1, 0)

            local Knob = Instance.new("Frame", Switch)
            Knob.Size = UDim2.new(0, 16, 0, 16)
            Knob.Position = state and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)
            Knob.BackgroundColor3 = THEME.Text
            Instance.new("UICorner", Knob).CornerRadius = UDim.new(1, 0)

            ToggleFrame.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    state = not state
                    TweenService:Create(Switch, THEME.TweenInfo, {BackgroundColor3 = state and THEME.Accent or THEME.Background}):Play()
                    TweenService:Create(Knob, THEME.TweenInfo, {Position = state and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)}):Play()
                    callback(state)
                end
            end)
        end

        function TabObj:CreateSlider(text, min, max, default, callback)
            local SliderFrame = Instance.new("Frame", TabContent)
            SliderFrame.Size = UDim2.new(0, 410, 0, 60)
            SliderFrame.BackgroundColor3 = THEME.Secondary
            Instance.new("UICorner", SliderFrame).CornerRadius = UDim.new(0, 8)

            local Label = Instance.new("TextLabel", SliderFrame)
            Label.Text = "  " .. text
            Label.Size = UDim2.new(1, 0, 0, 30)
            Label.BackgroundTransparency = 1
            Label.Font = THEME.FontMain
            Label.TextColor3 = THEME.Text
            Label.TextSize = 14
            Label.TextXAlignment = Enum.TextXAlignment.Left

            local ValueLabel = Instance.new("TextLabel", SliderFrame)
            ValueLabel.Text = tostring(default)
            ValueLabel.Size = UDim2.new(0, 50, 0, 30)
            ValueLabel.Position = UDim2.new(1, -60, 0, 0)
            ValueLabel.BackgroundTransparency = 1
            ValueLabel.Font = THEME.FontMain
            ValueLabel.TextColor3 = THEME.Accent
            ValueLabel.TextSize = 14
            ValueLabel.TextXAlignment = Enum.TextXAlignment.Right

            local BarBack = Instance.new("Frame", SliderFrame)
            BarBack.Size = UDim2.new(1, -40, 0, 6)
            BarBack.Position = UDim2.new(0, 20, 0, 40)
            BarBack.BackgroundColor3 = THEME.Background
            Instance.new("UICorner", BarBack).CornerRadius = UDim.new(1, 0)

            local BarFill = Instance.new("Frame", BarBack)
            BarFill.Size = UDim2.new((default - min) / (max - min), 0, 1, 0)
            BarFill.BackgroundColor3 = THEME.Accent
            Instance.new("UICorner", BarFill).CornerRadius = UDim.new(1, 0)

            local dragging = false
            local function update()
                local percent = math.clamp((Mouse.X - BarBack.AbsolutePosition.X) / BarBack.AbsoluteSize.X, 0, 1)
                local val = math.floor(min + (max - min) * percent)
                ValueLabel.Text = tostring(val)
                BarFill.Size = UDim2.new(percent, 0, 1, 0)
                callback(val)
            end

            BarBack.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = true
                    update()
                end
            end)

            UserInputService.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
            end)

            UserInputService.InputChanged:Connect(function(input)
                if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then update() end
            end)
        end
        
        return TabObj
    end

    function WindowObj:Unload()
        MainGui:Destroy()
        NotificationHolder:Destroy()
    end

    return WindowObj
end

-----------------------------------------------------------
-- CONTOH PENGGUNAAN (EXAMPLE USAGE)
-----------------------------------------------------------

local window = fyorUI:CreateWindow("fyorUI Premium")
fyorUI:Notify("fyorUI Loaded", "Welcome, " .. LocalPlayer.DisplayName .. "!", 5)

-- Tab Beranda
local HomeTab = window:CreateTab("Home")
HomeTab:CreateButton("Rejoin Server", function()
    game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId, game.JobId, LocalPlayer)
end)

HomeTab:CreateButton("Copy JobID", function()
    setclipboard(game.JobId)
    fyorUI:Notify("System", "JobID copied to clipboard!", 3)
end)

HomeTab:CreateButton("Unload UI", function()
    window:Unload()
end)

-- Tab Main Script
local MainTab = window:CreateTab("Main")
MainTab:CreateToggle("Auto Farm", false, function(state)
    print("Auto Farm is now:", state)
end)

MainTab:CreateSlider("Walkspeed", 16, 200, 16, function(val)
    LocalPlayer.Character.Humanoid.WalkSpeed = val
end)

MainTab:CreateToggle("Infinite Jump", false, function(state)
    _G.infJump = state
    UserInputService.JumpRequest:Connect(function()
        if _G.infJump then LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping) end
    end)
end)

local SettingsTab = window:CreateTab("Settings")
SettingsTab:CreateButton("Reset Config", function()
    fyorUI:Notify("Settings", "Configuration has been reset.", 4)
end)

return fyorUI

